import{u as m,r as i,j as e,G as p,e as h,F as n,a as c,f as j,g as b}from"./index-QsesXsS1.js";const f=({error:a,onRetry:d,isRetrying:t})=>{const{t:s}=m(),[r,o]=i.useState(!1),[l,x]=i.useState(!1);return e.jsxs(p,{className:"border-red-500/50 bg-red-900/10",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(h,{className:"text-red-500",size:32})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-red-400 mb-2",children:s("masterplan.errors.title")}),e.jsx("p",{className:"text-white font-semibold mb-1",children:a.message}),e.jsxs("p",{className:"text-sm text-gray-400",children:[s("masterplan.errors.code"),": ",e.jsx("span",{className:"font-mono text-gray-300",children:a.code})]})]})]}),a.details&&Object.keys(a.details).length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("button",{className:"flex items-center gap-2 text-gray-300 hover:text-white transition-colors",onClick:()=>o(!r),"aria-expanded":r,"aria-controls":"error-details",children:[e.jsx("span",{className:"font-semibold",children:s("masterplan.errors.details")}),r?e.jsx(n,{size:18}):e.jsx(c,{size:18})]}),r&&e.jsx("div",{id:"error-details",className:"mt-3 bg-black/30 rounded-lg p-4 max-h-48 overflow-auto",children:e.jsx("pre",{className:"text-sm text-gray-300 font-mono whitespace-pre-wrap",children:JSON.stringify(a.details,null,2)})})]}),a.stackTrace&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("button",{className:"flex items-center gap-2 text-gray-300 hover:text-white transition-colors",onClick:()=>x(!l),"aria-expanded":l,"aria-controls":"error-stack",children:[e.jsx("span",{className:"font-semibold",children:s("masterplan.errors.stackTrace")}),l?e.jsx(n,{size:18}):e.jsx(c,{size:18})]}),l&&e.jsx("div",{id:"error-stack",className:"mt-3 bg-black/30 rounded-lg p-4 max-h-64 overflow-auto",children:e.jsx("pre",{className:"text-xs text-gray-400 font-mono whitespace-pre-wrap",children:a.stackTrace})})]}),e.jsx("div",{className:"mt-6 flex items-center justify-end gap-3",children:e.jsxs(j,{variant:"primary",onClick:d,disabled:t,"aria-label":s("masterplan.accessibility.retryButton"),children:[e.jsx(b,{className:`mr-2 ${t?"animate-spin":""}`}),s(t?"masterplan.errors.retryingMessage":"masterplan.buttons.retry")]})}),t&&e.jsx("div",{className:"mt-4 p-3 bg-blue-500/10 border border-blue-500/30 rounded-lg text-center",role:"status","aria-live":"polite",children:e.jsx("p",{className:"text-blue-400 text-sm",children:s("masterplan.errors.retryingMessage")})})]})};export{f as default};

import{u as p,r as h,j as e,G as f,b,c as j,d as v}from"./index-C5ujjKDI.js";const N=({phases:r,currentPhase:u,animateActive:c=!0})=>{const{t:l}=p(),d=h.useMemo(()=>{const s={"discovery-parsing":{id:"discovery-parsing",label:"Discovery & Parsing",icon:"ðŸ“¡",phases:[]},"analysis-planning":{id:"analysis-planning",label:"Analysis & Planning",icon:"ðŸ“Š",phases:[]},finalization:{id:"finalization",label:"Finalization",icon:"ðŸ’¾",phases:[]}};return r.forEach(a=>{["discovery","parsing","validation"].includes(a.name)?s["discovery-parsing"].phases.push(a):["complexity_analysis","dependency_calculation","timeline_estimation","risk_analysis","resource_optimization"].includes(a.name)?s["analysis-planning"].phases.push(a):a.name==="saving"&&s.finalization.phases.push(a)}),Object.values(s)},[r]),o=s=>{switch(s){case"completed":return"bg-green-500 text-white";case"in_progress":return"bg-blue-500 text-white";case"failed":return"bg-red-500 text-white";case"pending":default:return"bg-gray-600 text-gray-400"}},m=s=>{switch(s){case"completed":return e.jsx(v,{size:20});case"in_progress":return e.jsx(j,{size:20,className:c?"animate-spin":""});case"failed":return e.jsx(b,{size:20});case"pending":default:return e.jsx("span",{className:"text-sm",children:"â³"})}},x=s=>{const a=s.some(t=>t.status==="in_progress"),i=s.every(t=>t.status==="completed");return s.some(t=>t.status==="failed")?"failed":a?"in_progress":i?"completed":"pending"},g=s=>s.some(a=>a.name===u);return e.jsxs(f,{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:l("masterplan.timeline.title")}),e.jsx("div",{className:"space-y-6",children:d.map((s,a)=>{const i=x(s.phases),n=g(s.phases);return e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:`flex items-center gap-3 pb-4 border-b transition-all ${n?"border-blue-400/50":i==="completed"?"border-green-400/30":"border-gray-600/30"}`,children:[e.jsx("div",{className:`text-2xl ${n?"animate-pulse":""}`,children:s.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:`font-semibold ${n?"text-blue-300":"text-gray-300"}`,children:s.label}),e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 h-1 bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-300 ${i==="completed"?"bg-green-500 w-full":i==="in_progress"?"bg-blue-500 w-2/3":"bg-gray-600 w-0"}`})}),e.jsxs("span",{className:"text-xs text-gray-400",children:[s.phases.filter(t=>t.status==="completed").length,"/",s.phases.length]})]})]}),e.jsx("div",{className:`flex-shrink-0 ${o(i)} w-10 h-10 rounded-full flex items-center justify-center`,children:m(i)})]}),e.jsx("div",{className:"mt-4 ml-8 space-y-3",children:s.phases.map(t=>e.jsxs("div",{className:"flex items-center gap-3 group",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm flex-shrink-0 transition-all ${t.status==="in_progress"&&c?"ring-2 ring-blue-400/70 animate-pulse":""} ${o(t.status)}`,role:"status","aria-label":l("masterplan.accessibility.phaseIndicator",{phase:t.label,status:t.status}),children:m(t.status)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`text-sm font-medium truncate ${t.status==="in_progress"?"text-white":t.status==="completed"?"text-green-400":"text-gray-400"}`,children:t.label}),t.status==="completed"&&t.duration&&e.jsxs("p",{className:"text-xs text-green-400/70",children:[Math.round(t.duration),"s"]}),t.status==="in_progress"&&e.jsx("p",{className:"text-xs text-blue-400/70 animate-pulse",children:l("masterplan.timeline.phaseActive")})]})]},t.name))}),a<d.length-1&&e.jsx("div",{className:"mt-6 mb-2 h-px bg-gradient-to-r from-gray-700/50 via-gray-600/50 to-transparent"})]},s.id)})})]})};export{N as default};

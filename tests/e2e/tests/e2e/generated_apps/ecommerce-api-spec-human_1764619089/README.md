# E-commerce API

A backend API for a basic e-commerce system that allows managing a product catalog, registering customers, creating shopping carts, making orders, and viewing purchase history.

## Features

- **Product**: Full CRUD operations
- **Customer**: Full CRUD operations
- **Cart**: Full CRUD operations
- **CartItem**: Full CRUD operations
- **Order**: Full CRUD operations
- **OrderItem**: Full CRUD operations

## API Endpoints

- `GET /health`: Health check endpoint
- `POST /products`: Create a new product
- `GET /products`: List active products
- `GET /products/{id}`: Get product details
- `PUT /products/{id}`: Update product
- `POST /products/{id}/deactivate`: Deactivate product
- `POST /customers`: Register new customer
- `GET /customers/{id}`: Get customer details
- `POST /carts`: Create cart for customer
- `GET /carts/{id}`: View current cart

## Quick Start

### Prerequisites

- Python 3.11+
- PostgreSQL 15+
- Docker and Docker Compose (recommended)

### Using Docker (Recommended)

```bash
# Start all services
docker compose -f docker/docker-compose.yml up -d

# Access the API
curl http://localhost:8000/health/health
```

### Local Development

```bash
# Create virtual environment
python -m venv venv
source venv/bin/activate

# Install dependencies
pip install -r requirements.txt

# Configure environment
cp .env.example .env
# Edit .env with your DATABASE_URL

# Run migrations
alembic upgrade head

# Start the server
uvicorn src.main:app --reload --host 0.0.0.0 --port 8000
```

## API Documentation

Once running, visit:
- **Swagger UI**: http://localhost:8000/docs
- **ReDoc**: http://localhost:8000/redoc
- **Health Check**: http://localhost:8000/health/health

## Testing

```bash
pytest tests/ -v --cov=src
```

## Docker Commands

```bash
# Build and start
docker compose -f docker/docker-compose.yml up -d --build

# View logs
docker compose -f docker/docker-compose.yml logs -f app

# Stop
docker compose -f docker/docker-compose.yml down
```

---
Generated by DevMatrix Code Generation Engine